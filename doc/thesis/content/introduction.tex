\chapter{Introduction}
Energy efficiency turns to be the one of main challenge for humanity. Lack of resources together with rocketed energy demand across the planet urge peoples to increase efficiency of their energy systems. One of the most promising technologies in this field is Smart Grid. Traditionally, the term "grid" denotes an electricity system, that supports electricity generation, transmission, distribution and control. Most of them use for direct energy delivery from several large generators to consumers. In contrast, a Smart Grid is an electricity grid which utilise two-way flows of energy and information to establish automated and distributed next-generation energy delivery network \cite{Fang2012}. These intelligent technologies are incorporated across the entire system which improve its efficiency, safety and reliability \cite{Gao2012}. 

The main advantage of Smart Grid systems is a potential for altering end-user consumption behaviour, which allows to shift peak demands to stabilise daily consumption profile. Such interaction between energy operators and consumers is called Demand-Response (henceforth DR). Plenty of DR schemes have been proposed recent years, and some of them are in use in US energy market. They differ in what they assume about the system, what type of grid architecture they utilise, what type of motivation for end users to participate into the program they propose, and what mathematical approach to emerge system's intelligence they apply. The main difficulty which most of the schemes are trying to tackle is a lack of communication between server and customers in real world, which prohibits to address each device individually. However, most of works assume two-sided information stream, which leads to significant infrastructure investment therefore detaining proliferation of such intelligent systems into the market. 

In this study we propose a novel scheme which is aimed to minimise communication requirements without a lessening in functionality to curtail or adjust overall consumption in grid. In particular, it require to know only aggregated energy consumption in each period, which is significantly more realistic then two-sided communication architecture. To pursue this we consider the set of consumers as an ensemble of devices, which behaviour is representable by finite Markov chains. This is an extension of \cite{Chertkov2017} ideas, who proves this approach to be viable end efficient. To tackle optimisation subroutines we consider this problem as a Linear Contextual Bandit With Knapsack (BwK \cite{Badanidiyuru2013}) setup, applying the algorithms proposed in \cite{Agrawal2015}. The main contribution of this work is proposed markov-chains-based ensemble model, which provides context for contextual bandit learning algorithms and has a naturally linear dependency of reward over this context. It enables to apply advanced bandit algorithms as \cite{Agrawal2015} without loss of its convergence guarantees making no additional assumptions. 

\input{content/DR_overview}
\input{content/contextual_bandits_overview}
\input{content/bandits_in_DR_overview}